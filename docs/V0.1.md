# LÚMEN — README (v1.0)

**LÚMEN** es un lenguaje de programación educativo diseñado para enseñar **cómo funciona realmente una computadora y un lenguaje por dentro**, sin ocultar la máquina ni abrumar al aprendiz.

> Diseño de *adentro hacia afuera*: VM → Bytecode → Instrucciones → Compilador → Herramientas.

---

## Estado del Proyecto

**Versión:** 1.0.0
**Estado:** ✅ PRODUCCIÓN (educativo)
**Capas implementadas:** **5 / 5**

---

## Capas del Lenguaje

* **Capa 1 — VM + Bytecode** ✅
  Máquina virtual stack-based, ejecución determinista, manejo de errores.

* **Capa 2 — Instrucciones Base** ✅
  Aritmética, variables, comparaciones y control de flujo (15 opcodes).

* **Capa 3 — Compilador** ✅
  Pipeline completo: Lexer → Parser (AST) → CodeGen → Bytecode.

* **Capa 4 — Multiidioma (ES / EN)** ✅
  Tabla de keywords desacoplada de la VM. Misma VM, mismo bytecode.

* **Capa 5 — CLI** ✅
  Herramientas mínimas para usar el lenguaje desde terminal.

---

## Estructura del Proyecto

```
lumen/
├─ Cargo.toml
├─ README.md
├─ src/
│  ├─ main.rs
│  ├─ vm.rs
│  ├─ stack.rs
│  ├─ instructions.rs
│  ├─ compiler/
│  │  ├─ mod.rs
│  │  ├─ lexer.rs
│  │  ├─ ast.rs
│  │  ├─ parser.rs
│  │  ├─ codegen.rs
│  │  └─ keywords.rs
│  └─ cli/
│     ├─ mod.rs
│     └─ commands.rs
└─ ejemplos/
```

---

## Uso

### Compilar el proyecto

```bash
cargo build --release
```

### Ejecutar un programa

```bash
cargo run --release -- run ejemplos/test.lumen
```

### Compilar a bytecode (.nvc)

```bash
cargo run --release -- build ejemplos/factorial.lumen
```

### Verificar sintaxis

```bash
cargo run --release -- check ejemplos/fibonacci.lumen
```

---

## Sintaxis (ES / EN)

**Español**

```lumen
numero x = 10
imprimir(x)
```

**English**

```lumen
number x = 10
print(x)
```

Ambos generan **exactamente el mismo bytecode**.

---

## Bytecode (resumen)

* **Formato:** opcode (1 byte) + argumentos (i32 little-endian)
* **Modelo:** stack-based
* **Límites:** stack 1024 elementos

**Opcodes clave:** PUSH_NUM, ADD, SUB, MUL, DIV, STORE, LOAD, EQ, LT, GT, JMP, JMP_IF_FALSE, PRINT, HALT.

---

## Ejemplo Completo

```lumen
numero i = 0
mientras (i < 5) {
  imprimir(i)
  i = i + 1
}
```

---

## Valor Educativo

LÚMEN permite aprender:

1. Cómo funciona una VM real
2. Qué es y cómo se ejecuta el bytecode
3. Cómo se construye un compilador completo
4. Separación entre sintaxis y ejecución
5. Arquitectura por capas en lenguajes

~1200 líneas de Rust, sin dependencias pesadas.

---

## Contribuciones

* Claridad antes que cleverness
* Educación primero
* Documentar el *por qué*

Fork → branch → PR.

---

## Licencia

MIT License
© 2026 — Omar
